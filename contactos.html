<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contactos de Emergencia - Alerta Bolivia</title>
<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  margin: 0;
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  color: #f1f5f9;
  line-height: 1.6;
  min-height: 100vh;
}

.header {
  background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);
  color: white;
  padding: 1rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: 0 4px 25px rgba(0,0,0,0.3);
  border-bottom: 3px solid #60a5fa;
}

.logo {
  display: flex;
  align-items: center;
  gap: 12px;
  font-weight: 700;
  font-size: 1.7rem;
}

.logo-img {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: 2px solid #60a5fa;
  transition: transform 0.3s ease;
}

.logo:hover .logo-img {
  transform: rotate(10deg);
}

.menu {
  display: flex;
  gap: 8px;
}

.menu a {
  color: white;
  text-decoration: none;
  padding: 8px 16px;
  border-radius: 6px;
  transition: all 0.3s ease;
  font-weight: 500;
  position: relative;
}

.menu a:hover {
  background: rgba(96, 165, 250, 0.9);
  transform: translateY(-2px);
}

.menu a.active {
  background: #60a5fa;
  box-shadow: 0 4px 12px rgba(96, 165, 250, 0.4);
}

.menu a.active::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 6px;
  height: 6px;
  background: #60a5fa;
  border-radius: 50%;
}

.main {
  padding: 3rem 2rem;
  max-width: 1400px;
  margin: 0 auto;
}

.page-title {
  text-align: center;
  color: #f1f5f9;
  margin-bottom: 1rem;
  font-size: 2.5rem;
  font-weight: 800;
  position: relative;
  text-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.page-title::after {
  content: '';
  display: block;
  width: 120px;
  height: 4px;
  background: linear-gradient(90deg, #60a5fa, #a855f7);
  margin: 1rem auto;
  border-radius: 2px;
}

.page-subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.2rem;
  margin-bottom: 3rem;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

.last-update {
  text-align: center;
  color: #94a3b8;
  font-size: 0.9rem;
  margin-bottom: 2rem;
}

.last-update .highlight {
  color: #60a5fa;
  font-weight: 600;
}

.stats-overview {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.stat-card {
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  padding: 1.5rem;
  border-radius: 20px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.4);
  border: 1px solid #334155;
  transition: all 0.4s ease;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, #60a5fa, #a855f7);
}

.stat-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 40px rgba(96, 165, 250, 0.3);
  border-color: #60a5fa;
}

.stat-icon {
  font-size: 2.5rem;
  margin-bottom: 0.8rem;
  transition: transform 0.3s ease;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
}

.stat-card:hover .stat-icon {
  transform: scale(1.1) rotate(5deg);
}

.stat-number {
  font-size: 2rem;
  font-weight: 800;
  color: #f1f5f9;
  display: block;
  line-height: 1;
  margin-bottom: 0.5rem;
  text-shadow: 0 2px 8px rgba(0,0,0,0.5);
}

.stat-label {
  font-size: 0.9rem;
  color: #cbd5e1;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.controls-container {
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  padding: 1.5rem;
  border-radius: 20px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.4);
  margin-bottom: 2rem;
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  align-items: center;
  justify-content: space-between;
  border: 1px solid #334155;
}

.search-group {
  display: flex;
  gap: 1rem;
  align-items: center;
  flex: 1;
  max-width: 500px;
}

.search-input {
  padding: 0.8rem 1rem;
  border: 2px solid #374151;
  border-radius: 12px;
  background: #1e293b;
  font-size: 1rem;
  width: 100%;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2394a3b8" width="20" height="20"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>');
  background-repeat: no-repeat;
  background-position: 12px center;
  background-size: 20px;
  padding-left: 45px;
  color: #f1f5f9;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.search-input:focus {
  outline: none;
  border-color: #60a5fa;
  box-shadow: 0 8px 25px rgba(96, 165, 250, 0.3);
  transform: translateY(-2px);
}

.filter-group {
  display: flex;
  gap: 1rem;
  align-items: center;
}

.filter-select {
  padding: 0.8rem 1rem;
  border: 2px solid #374151;
  border-radius: 12px;
  background: #1e293b;
  font-size: 0.9rem;
  font-weight: 500;
  min-width: 180px;
  color: #f1f5f9;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.quick-actions {
  display: flex;
  gap: 0.8rem;
  flex-wrap: wrap;
}

.quick-btn {
  padding: 0.6rem 1.2rem;
  background: #1e293b;
  border: 2px solid #60a5fa;
  border-radius: 10px;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: #60a5fa;
}

.quick-btn:hover {
  background: #60a5fa;
  color: white;
  border-color: #60a5fa;
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(96, 165, 250, 0.4);
}

.contacts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.department-card {
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  border-radius: 24px;
  box-shadow: 0 10px 35px rgba(0,0,0,0.4);
  padding: 2rem;
  text-align: center;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  border: 1px solid #374151;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.department-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 6px;
  background: linear-gradient(90deg, #60a5fa, #a855f7);
}

.department-card:hover {
  transform: translateY(-10px) scale(1.03);
  box-shadow: 0 25px 50px rgba(96, 165, 250, 0.3);
  border-color: #60a5fa;
}

.department-card.active {
  transform: translateY(-5px);
  box-shadow: 0 15px 35px rgba(0,0,0,0.4);
}

.card-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  text-align: left;
}

.flag-container {
  width: 80px;
  height: 60px;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  border: 2px solid #374151;
  transition: transform 0.3s ease;
  flex-shrink: 0;
}

.department-card:hover .flag-container {
  transform: scale(1.1);
}

.flag {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.department-info {
  flex: 1;
}

.department-card h3 {
  margin: 0 0 0.3rem 0;
  color: #f1f5f9;
  font-size: 1.4rem;
  font-weight: 700;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.department-stats {
  display: flex;
  gap: 1rem;
  font-size: 0.8rem;
  color: #94a3b8;
}

.stat {
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

.contact-info {
  max-height: 0;
  overflow: hidden;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  text-align: left;
  margin-top: 0;
}

.contact-info.active {
  max-height: 600px;
  margin-top: 1.5rem;
}

.contact-item {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  padding: 0.8rem 0;
  border-bottom: 1px solid #374151;
  transition: all 0.3s ease;
  position: relative;
}

.contact-item:last-child {
  border-bottom: none;
}

.contact-item:hover {
  background: rgba(30, 41, 59, 0.7);
  border-radius: 8px;
  padding-left: 0.8rem;
  padding-right: 0.8rem;
}

.contact-icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  flex-shrink: 0;
  background: #374151;
  border-radius: 10px;
  transition: all 0.3s ease;
}

.contact-item:hover .contact-icon {
  background: #60a5fa;
  color: white;
  transform: scale(1.1);
}

.contact-details {
  flex: 1;
}

.contact-service {
  font-weight: 600;
  color: #f1f5f9;
  font-size: 0.95rem;
  margin-bottom: 0.2rem;
}

.contact-number {
  color: #60a5fa;
  text-decoration: none;
  font-weight: 600;
  font-size: 1.1rem;
  transition: all 0.3s ease;
  display: block;
}

.contact-number:hover {
  color: #93c5fd;
  transform: translateX(5px);
}

.contact-actions {
  display: flex;
  gap: 0.5rem;
  opacity: 0;
  transition: all 0.3s ease;
}

.contact-item:hover .contact-actions {
  opacity: 1;
}

.action-btn {
  width: 36px;
  height: 36px;
  border: none;
  border-radius: 8px;
  background: #374151;
  color: #94a3b8;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
}

.action-btn:hover {
  background: #60a5fa;
  color: white;
  transform: scale(1.1);
}

.emergency-quick-dial {
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  border-radius: 24px;
  box-shadow: 0 10px 35px rgba(0,0,0,0.4);
  padding: 2rem;
  margin-bottom: 2rem;
  border: 1px solid #374151;
}

.quick-dial-title {
  color: #f1f5f9;
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
  text-align: center;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.quick-dial-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.quick-dial-item {
  background: linear-gradient(135deg, #60a5fa, #3b82f6);
  color: white;
  padding: 1.5rem;
  border-radius: 16px;
  text-align: center;
  transition: all 0.3s ease;
  cursor: pointer;
  box-shadow: 0 6px 20px rgba(96, 165, 250, 0.4);
  position: relative;
  overflow: hidden;
}

.quick-dial-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s;
}

.quick-dial-item:hover::before {
  left: 100%;
}

.quick-dial-item:hover {
  transform: translateY(-5px) scale(1.05);
  box-shadow: 0 12px 30px rgba(96, 165, 250, 0.6);
}

.quick-dial-item.emergency {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
}

.quick-dial-item.emergency:hover {
  box-shadow: 0 12px 30px rgba(239, 68, 68, 0.6);
}

.quick-dial-icon {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
}

.quick-dial-service {
  font-weight: 600;
  margin-bottom: 0.5rem;
  font-size: 1.1rem;
}

.quick-dial-number {
  font-size: 1.3rem;
  font-weight: 700;
}

.notification-toast {
  position: fixed;
  top: 100px;
  right: 30px;
  background: linear-gradient(135deg, #1e293b, #334155);
  padding: 1.5rem 2rem;
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  border-left: 4px solid #60a5fa;
  z-index: 2001;
  transform: translateX(400px);
  transition: transform 0.3s ease;
  max-width: 300px;
  backdrop-filter: blur(10px);
}

.notification-toast.show {
  transform: translateX(0);
}

.notification-title {
  font-weight: 600;
  color: #f1f5f9;
  margin-bottom: 0.5rem;
}

.notification-message {
  color: #cbd5e1;
  font-size: 0.9rem;
}

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.modal-overlay.active {
  opacity: 1;
  visibility: visible;
}

.modal-content {
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  border-radius: 24px;
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow: hidden;
  box-shadow: 0 25px 50px rgba(0,0,0,0.5);
  transform: scale(0.9);
  transition: transform 0.3s ease;
  border: 1px solid #374151;
}

.modal-overlay.active .modal-content {
  transform: scale(1);
}

.modal-header {
  padding: 1.5rem 2rem;
  border-bottom: 1px solid #374151;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(135deg, #1e40af, #3730a3);
  color: white;
}

.modal-header h3 {
  margin: 0;
  font-size: 1.4rem;
}

.modal-close {
  background: none;
  border: none;
  color: white;
  font-size: 1.8rem;
  cursor: pointer;
  padding: 0;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: background 0.3s;
}

.modal-close:hover {
  background: rgba(255,255,255,0.1);
}

.modal-body {
  padding: 2rem;
}

.call-options {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
}

.call-btn {
  flex: 1;
  padding: 1rem;
  border: none;
  border-radius: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  position: relative;
  overflow: hidden;
}

.call-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s;
}

.call-btn:hover::before {
  left: 100%;
}

.call-primary {
  background: linear-gradient(135deg, #60a5fa, #3b82f6);
  color: white;
  box-shadow: 0 4px 15px rgba(96, 165, 250, 0.4);
}

.call-secondary {
  background: #1e293b;
  color: #f1f5f9;
  border: 2px solid #374151;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.call-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(96, 165, 250, 0.6);
}

.call-secondary:hover {
  box-shadow: 0 8px 25px rgba(148, 163, 184, 0.4);
}

.emergency-btn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 70px;
  height: 70px;
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 1.8rem;
  cursor: pointer;
  box-shadow: 0 8px 25px rgba(239, 68, 68, 0.6);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 1001;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: pulse-emergency 2s infinite;
}

.emergency-btn:hover {
  transform: scale(1.15) rotate(10deg);
  box-shadow: 0 12px 35px rgba(239, 68, 68, 0.8);
}

@keyframes pulse-emergency {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.footer {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  color: #cbd5e1;
  text-align: center;
  padding: 2.5rem 2rem;
  margin-top: 4rem;
  border-top: 3px solid #60a5fa;
}

.footer-content {
  max-width: 600px;
  margin: 0 auto;
}

.no-results {
  text-align: center;
  color: #94a3b8;
  padding: 3rem;
  font-style: italic;
  display: none;
  grid-column: 1 / -1;
}

@media (max-width: 768px) {
  .header {
    flex-direction: column;
    padding: 1rem;
    gap: 1rem;
  }
  
  .menu {
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .main {
    padding: 2rem 1rem;
  }
  
  .page-title {
    font-size: 2rem;
  }
  
  .page-subtitle {
    font-size: 1.1rem;
  }
  
  .stats-overview {
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }
  
  .controls-container {
    flex-direction: column;
    align-items: stretch;
  }
  
  .search-group, .filter-group {
    width: 100%;
  }
  
  .search-input, .filter-select {
    width: 100%;
  }
  
  .quick-actions {
    justify-content: center;
  }
  
  .contacts-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .department-card {
    padding: 1.5rem;
  }
  
  .card-header {
    flex-direction: column;
    text-align: center;
  }
  
  .flag-container {
    width: 100px;
    height: 75px;
  }
  
  .quick-dial-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .emergency-btn {
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    font-size: 1.6rem;
  }
  
  .modal-content {
    width: 95%;
  }
}

@media (max-width: 480px) {
  .page-title {
    font-size: 1.8rem;
  }
  
  .stats-overview {
    grid-template-columns: 1fr;
  }
  
  .contacts-grid {
    grid-template-columns: 1fr;
  }
  
  .quick-dial-grid {
    grid-template-columns: 1fr;
  }
  
  .call-options {
    flex-direction: column;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

.menu a:focus,
.emergency-btn:focus,
.contact-number:focus,
.department-card:focus,
.quick-btn:focus,
.action-btn:focus,
.modal-close:focus,
.call-btn:focus {
  outline: 2px solid #60a5fa;
  outline-offset: 2px;
}
</style>
</head>
<body>
<header class="header">
  <div class="logo">
    <img src="logo.jpg" alt="Alerta Bolivia" class="logo-img">
    <span>üáßüá¥ Alerta Bolivia</span>
  </div>
  <nav class="menu">
    <a href="index.html">Inicio</a>
    <a href="educacion.html">Educaci√≥n</a>
    <a href="denuncias.html">Denuncias</a>
    <a href="mapa.html">Mapa</a>
    <a href="contactos.html" class="active">Contactos</a>
  </nav>
</header>

<main class="main">
  <h1 class="page-title">Contactos de Emergencia</h1>
  <p class="page-subtitle">Encuentra r√°pidamente los n√∫meros de emergencia de cada departamento de Bolivia</p>
  
  <div class="last-update">
    üîÑ √öltima actualizaci√≥n: <span class="highlight" id="lastUpdateTime">Cargando...</span>
  </div>

  <div class="stats-overview">
    <div class="stat-card">
      <div class="stat-icon">üìû</div>
      <span class="stat-number" id="total-contacts">0</span>
      <span class="stat-label">Contactos Totales</span>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üèõÔ∏è</div>
      <span class="stat-number" id="total-departments">0</span>
      <span class="stat-label">Departamentos</span>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üïí</div>
      <span class="stat-number">24/7</span>
      <span class="stat-label">Disponibilidad</span>
    </div>
    <div class="stat-card">
      <div class="stat-icon">üö®</div>
      <span class="stat-number" id="emergency-services">0</span>
      <span class="stat-label">Servicios de Emergencia</span>
    </div>
  </div>
  
  <section class="emergency-quick-dial">
    <h2 class="quick-dial-title">Marcado R√°pido de Emergencia</h2>
    <div class="quick-dial-grid">
      <div class="quick-dial-item emergency" onclick="openCallModal('Polic√≠a Nacional', '110')">
        <div class="quick-dial-icon">üëÆ</div>
        <div class="quick-dial-service">Polic√≠a Nacional</div>
        <div class="quick-dial-number">110</div>
      </div>
      <div class="quick-dial-item emergency" onclick="openCallModal('Bomberos', '119')">
        <div class="quick-dial-icon">üöí</div>
        <div class="quick-dial-service">Bomberos</div>
        <div class="quick-dial-number">119</div>
      </div>
      <div class="quick-dial-item" onclick="openCallModal('Ambulancias', '118')">
        <div class="quick-dial-icon">üöë</div>
        <div class="quick-dial-service">Ambulancias</div>
        <div class="quick-dial-number">118</div>
      </div>
      <div class="quick-dial-item" onclick="openCallModal('Servicios de Emergencia', '911')">
        <div class="quick-dial-icon">üõ°Ô∏è</div>
        <div class="quick-dial-service">Servicios de Emergencia</div>
        <div class="quick-dial-number">911</div>
      </div>
    </div>
  </section>
  
  <div class="controls-container">
    <div class="search-group">
      <input type="text" class="search-input" id="search-input" placeholder="Buscar departamento o servicio...">
    </div>
    
    <div class="filter-group">
      <select class="filter-select" id="department-filter">
        <option value="all">Todos los departamentos</option>
        <option value="la-paz">La Paz</option>
        <option value="santa-cruz">Santa Cruz</option>
        <option value="cochabamba">Cochabamba</option>
        <option value="oruro">Oruro</option>
        <option value="potosi">Potos√≠</option>
        <option value="chuquisaca">Chuquisaca</option>
        <option value="beni">Beni</option>
        <option value="pando">Pando</option>
        <option value="tarija">Tarija</option>
      </select>
      
      <select class="filter-select" id="service-filter">
        <option value="all">Todos los servicios</option>
        <option value="policia">Polic√≠a</option>
        <option value="bomberos">Bomberos</option>
        <option value="servicios-emergencia">Servicios de Emergencia</option>
        <option value="hospital">Hospital</option>
      </select>
    </div>
    
    <div class="quick-actions">
      <button class="quick-btn" onclick="expandAllCards()">üìñ Expandir Todos</button>
      <button class="quick-btn" onclick="collapseAllCards()">üìï Contraer Todos</button>
      <button class="quick-btn" onclick="saveContacts()">üíæ Guardar Contactos</button>
    </div>
  </div>

  <div class="contacts-grid" id="contacts-container">
  </div>

  <div class="no-results" id="noResults">
    No se encontraron contactos que coincidan con tu b√∫squeda.
  </div>
</main>

<div class="modal-overlay" id="call-modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="modal-title">Realizar Llamada</h3>
      <button class="modal-close" id="modal-close">&times;</button>
    </div>
    <div class="modal-body">
      <p id="modal-service">Servicio de emergencia</p>
      <h2 id="modal-number" style="font-size: 2rem; color: #60a5fa; text-align: center; margin: 1rem 0;">000-000</h2>
      <div class="call-options">
        <button class="call-btn call-primary" id="call-now">
          üìû Llamar Ahora
        </button>
        <button class="call-btn call-secondary" id="copy-number">
          üìã Copiar N√∫mero
        </button>
      </div>
    </div>
  </div>
</div>

<form id="emergency-form" action="https://formspree.io/f/xblzaejj" method="POST" style="display: none;">
  <input type="hidden" name="nombre" value="Alerta R√°pida">
  <input type="hidden" name="_replyto" value="usuario@correo.com">
  <input type="hidden" name="tipo" value="Emergencia">
  <input type="hidden" name="lugar" value="Mi comunidad">
  <input type="hidden" name="lat" value="-16.5">
  <input type="hidden" name="lon" value="-68.15">
  <textarea name="descripcion" style="display: none;">üö® Hay un desastre en mi comunidad. Se requiere intervenci√≥n inmediata de los servicios de emergencia.</textarea>
</form>

<button class="emergency-btn" title="Enviar alerta r√°pida de emergencia" aria-label="Bot√≥n de emergencia">
  üö®
</button>

<div class="notification-toast" id="notificationToast">
  <div class="notification-title" id="toastTitle">√âxito</div>
  <div class="notification-message" id="toastMessage">Operaci√≥n completada correctamente</div>
</div>

<footer class="footer">
  <div class="footer-content">
    <p>¬© 2025 Plataforma de Alerta y Educaci√≥n Ambiental de Bolivia</p>
    <p style="margin-top: 0.5rem; opacity: 0.8; font-size: 0.9rem;">Sistema de monitoreo y alerta temprana - √öltima actualizaci√≥n: <span id="lastUpdate"></span></p>
  </div>
</footer>

<script>
class SistemaContactos {
  constructor() {
    this.departments = [];
    this.filters = {
      search: '',
      department: 'all',
      service: 'all'
    };
    this.currentOpenCard = null;
    this.inicializar();
  }

  inicializar() {
    this.cargarDepartamentos();
    this.configurarFiltros();
    this.configurarModal();
    this.renderizarDepartamentos();
    this.actualizarEstadisticas();
    this.actualizarFecha();
  }

  cargarDepartamentos() {
    this.departments = [
      {
        id: 'la-paz',
        name: 'La Paz',
        flag: 'banderas/la-paz.jpg',
        contacts: [
          { service: 'Bomberos', number: '222-333', icon: 'üöí', type: 'bomberos' },
          { service: 'Polic√≠a', number: '123-456', icon: 'üëÆ', type: 'policia' },
          { service: 'Servicios de Emergencia', number: '654-321', icon: 'üõ°Ô∏è', type: 'servicios-emergencia' },
          { service: 'Hospital General', number: '789-012', icon: 'üè•', type: 'hospital' }
        ]
      },
      {
        id: 'santa-cruz',
        name: 'Santa Cruz',
        flag: 'banderas/santa-cruz.jpg',
        contacts: [
          { service: 'Bomberos', number: '333-444', icon: 'üöí', type: 'bomberos' },
          { service: 'Polic√≠a', number: '555-666', icon: 'üëÆ', type: 'policia' },
          { service: 'Servicios de Emergencia', number: '777-888', icon: 'üõ°Ô∏è', type: 'servicios-emergencia' },
          { service: 'Hospital Regional', number: '999-000', icon: 'üè•', type: 'hospital' }
        ]
      },
      {
        id: 'cochabamba',
        name: 'Cochabamba',
        flag: 'banderas/cochabamba.jpg',
        contacts: [
          { service: 'Bomberos', number: '111-222', icon: 'üöí', type: 'bomberos' },
          { service: 'Polic√≠a', number: '333-555', icon: 'üëÆ', type: 'policia' },
          { service: 'Servicios de Emergencia', number: '444-666', icon: 'üõ°Ô∏è', type: 'servicios-emergencia' },
          { service: 'Hospital Viedma', number: '777-888', icon: 'üè•', type: 'hospital' }
        ]
      },
      {
        id: 'oruro',
        name: 'Oruro',
        flag: 'banderas/oruro.jpg',
        contacts: [
          { service: 'Bomberos', number: '101-101', icon: 'üöí', type: 'bomberos' },
          { service: 'Polic√≠a', number: '202-202', icon: 'üëÆ', type: 'policia' },
          { service: 'Servicios de Emergencia', number: '303-303', icon: 'üõ°Ô∏è', type: 'servicios-emergencia' },
          { service: 'Hospital General', number: '404-404', icon: 'üè•', type: 'hospital' }
        ]
      },
      {
        id: 'potosi',
        name: 'Potos√≠',
        flag: 'banderas/potosi.jpg',
        contacts: [
          { service: 'Bomberos', number: '404-404', icon: 'üöí', type: 'bomberos' },
          { service: 'Polic√≠a', number: '505-505', icon: 'üëÆ', type: 'policia' },
          { service: 'Servicios de Emergencia', number: '606-606', icon: 'üõ°Ô∏è', type: 'servicios-emergencia' },
          { service: 'Hospital Daniel Bracamonte', number: '707-707', icon: 'üè•', type: 'hospital' }
        ]
      },
      {
        id: 'chuquisaca',
        name: 'Chuquisaca',
        flag: 'banderas/chuquisaca.jpg',
        contacts: [
          { service: 'Bomberos', number: '707-707', icon: 'üöí', type: 'bomberos' },
          { service: 'Polic√≠a', number: '808-808', icon: 'üëÆ', type: 'policia' },
          { service: 'Servicios de Emergencia', number: '909-909', icon: 'üõ°Ô∏è', type: 'servicios-emergencia' },
          { service: 'Hospital Santa B√°rbara', number: '101-010', icon: 'üè•', type: 'hospital' }
        ]
      },
      {
        id: 'beni',
        name: 'Beni',
        flag: 'banderas/beni.jpg',
        contacts: [
          { service: 'Bomberos', number: '121-212', icon: 'üöí', type: 'bomberos' },
          { service: 'Polic√≠a', number: '232-323', icon: 'üëÆ', type: 'policia' },
          { service: 'Servicios de Emergencia', number: '343-434', icon: 'üõ°Ô∏è', type: 'servicios-emergencia' },
          { service: 'Hospital San Juan de Dios', number: '454-545', icon: 'üè•', type: 'hospital' }
        ]
      },
      {
        id: 'pando',
        name: 'Pando',
        flag: 'banderas/pando.jpg',
        contacts: [
          { service: 'Bomberos', number: '454-545', icon: 'üöí', type: 'bomberos' },
          { service: 'Polic√≠a', number: '565-656', icon: 'üëÆ', type: 'policia' },
          { service: 'Servicios de Emergencia', number: '676-767', icon: 'üõ°Ô∏è', type: 'servicios-emergencia' },
          { service: 'Hospital Roberto Galindo', number: '787-878', icon: 'üè•', type: 'hospital' }
        ]
      },
      {
        id: 'tarija',
        name: 'Tarija',
        flag: 'banderas/tarija.jpg',
        contacts: [
          { service: 'Bomberos', number: '101-010', icon: 'üöí', type: 'bomberos' },
          { service: 'Polic√≠a', number: '202-020', icon: 'üëÆ', type: 'policia' },
          { service: 'Servicios de Emergencia', number: '303-030', icon: 'üõ°Ô∏è', type: 'servicios-emergencia' },
          { service: 'Hospital Regional', number: '404-040', icon: 'üè•', type: 'hospital' }
        ]
      }
    ];
  }

  actualizarEstadisticas() {
    const totalContacts = this.departments.reduce((sum, dept) => sum + dept.contacts.length, 0);
    const totalDepartments = this.departments.length;
    const emergencyServices = this.departments.reduce((sum, dept) => 
      sum + dept.contacts.filter(contact => contact.type === 'servicios-emergencia').length, 0
    );

    document.getElementById('total-contacts').textContent = totalContacts;
    document.getElementById('total-departments').textContent = totalDepartments;
    document.getElementById('emergency-services').textContent = emergencyServices;

    const now = new Date();
    const timeString = now.toLocaleTimeString('es-BO', {
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit'
    });
    const dateString = now.toLocaleDateString('es-BO', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
    document.getElementById('lastUpdateTime').textContent = `${dateString} ${timeString}`;
  }

  configurarFiltros() {
    document.getElementById('search-input').addEventListener('input', (e) => {
      this.filters.search = e.target.value.toLowerCase();
      this.aplicarFiltros();
    });

    document.getElementById('department-filter').addEventListener('change', (e) => {
      this.filters.department = e.target.value;
      this.aplicarFiltros();
    });

    document.getElementById('service-filter').addEventListener('change', (e) => {
      this.filters.service = e.target.value;
      this.aplicarFiltros();
    });
  }

  configurarModal() {
    const modal = document.getElementById('call-modal');
    const closeBtn = document.getElementById('modal-close');
    const callBtn = document.getElementById('call-now');
    const copyBtn = document.getElementById('copy-number');

    closeBtn.addEventListener('click', () => this.cerrarModal());
    modal.addEventListener('click', (e) => {
      if (e.target === modal) this.cerrarModal();
    });

    callBtn.addEventListener('click', () => this.realizarLlamada());
    copyBtn.addEventListener('click', () => this.copiarNumero());

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') this.cerrarModal();
    });
  }

  aplicarFiltros() {
    const container = document.getElementById('contacts-container');
    const noResults = document.getElementById('noResults');
    let filteredDepartments = this.departments;

    if (this.filters.department !== 'all') {
      filteredDepartments = filteredDepartments.filter(dept => dept.id === this.filters.department);
    }

    if (this.filters.search) {
      filteredDepartments = filteredDepartments.filter(dept => 
        dept.name.toLowerCase().includes(this.filters.search) ||
        dept.contacts.some(contact => 
          contact.service.toLowerCase().includes(this.filters.search) ||
          contact.number.includes(this.filters.search)
        )
      );
    }

    if (this.filters.service !== 'all') {
      filteredDepartments = filteredDepartments.map(dept => ({
        ...dept,
        contacts: dept.contacts.filter(contact => contact.type === this.filters.service)
      })).filter(dept => dept.contacts.length > 0);
    }

    this.renderizarDepartamentosFiltrados(filteredDepartments);
    
    noResults.style.display = filteredDepartments.length === 0 ? 'block' : 'none';
  }

  renderizarDepartamentos() {
    this.renderizarDepartamentosFiltrados(this.departments);
  }

  renderizarDepartamentosFiltrados(departments) {
    const container = document.getElementById('contacts-container');
    
    container.innerHTML = departments.map(dept => this.crearTarjetaDepartamento(dept)).join('');
    
    this.configurarAnimaciones();
  }

  crearTarjetaDepartamento(department) {
    const contactCount = department.contacts.length;
    const isOpen = this.currentOpenCard === department.id;
    
    return `
      <div class="department-card ${isOpen ? 'active' : ''}" 
           onclick="sistemaContactos.toggleInfo('${department.id}')"
           data-department="${department.id}">
        <div class="card-header">
          <div class="flag-container">
            <img src="${department.flag}" alt="${department.name}" class="flag" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 70%22><rect width=%22100%22 height=%2270%22 fill=%22%23374151%22/><text x=%2250%22 y=%2235%22 font-family=%22Arial%22 font-size=%2214%22 fill=%22white%22 text-anchor=%22middle%22 alignment-baseline=%22middle%22>${department.name.charAt(0)}</text></svg>'">
          </div>
          <div class="department-info">
            <h3>${department.name}</h3>
            <div class="department-stats">
              <div class="stat">üìû ${contactCount} contactos</div>
              <div class="stat">üïí 24/7</div>
            </div>
          </div>
        </div>
        <div class="contact-info ${isOpen ? 'active' : ''}" id="${department.id}">
          ${department.contacts.map(contact => `
            <div class="contact-item">
              <div class="contact-icon">${contact.icon}</div>
              <div class="contact-details">
                <div class="contact-service">${contact.service}</div>
                <a href="tel:${contact.number}" class="contact-number" onclick="event.stopPropagation(); sistemaContactos.openCallModal('${contact.service}', '${contact.number}')">
                  ${contact.number}
                </a>
              </div>
              <div class="contact-actions">
                <button class="action-btn" onclick="event.stopPropagation(); sistemaContactos.openCallModal('${contact.service}', '${contact.number}')" title="Llamar">
                  üìû
                </button>
                <button class="action-btn" onclick="event.stopPropagation(); sistemaContactos.copiarNumero('${contact.number}')" title="Copiar n√∫mero">
                  üìã
                </button>
              </div>
            </div>
          `).join('')}
        </div>
      </div>
    `;
  }

  toggleInfo(id) {
    const info = document.getElementById(id);
    const card = info.parentElement;
    
    if (this.currentOpenCard && this.currentOpenCard !== id) {
      const prevInfo = document.getElementById(this.currentOpenCard);
      const prevCard = prevInfo.parentElement;
      prevInfo.classList.remove('active');
      prevCard.classList.remove('active');
    }
    
    info.classList.toggle('active');
    card.classList.toggle('active');
    
    if (info.classList.contains('active')) {
      this.currentOpenCard = id;
      card.style.zIndex = '10';
    } else {
      this.currentOpenCard = null;
      card.style.zIndex = '1';
    }
  }

  openCallModal(service, number) {
    this.currentService = service;
    this.currentNumber = number;
    
    const modal = document.getElementById('call-modal');
    const title = document.getElementById('modal-title');
    const serviceElem = document.getElementById('modal-service');
    const numberElem = document.getElementById('modal-number');
    
    title.textContent = `Llamar a ${service}`;
    serviceElem.textContent = service;
    numberElem.textContent = number;
    
    modal.classList.add('active');
  }

  cerrarModal() {
    const modal = document.getElementById('call-modal');
    modal.classList.remove('active');
  }

  realizarLlamada() {
    if (this.currentNumber) {
      window.open(`tel:${this.currentNumber}`, '_self');
      this.mostrarNotificacion('üìû Llamando...', `Conectando con ${this.currentService}`);
      this.cerrarModal();
    }
  }

  copiarNumero(number = null) {
    const numeroACopiar = number || this.currentNumber;
    
    if (numeroACopiar) {
      navigator.clipboard.writeText(numeroACopiar).then(() => {
        this.mostrarNotificacion('‚úÖ Copiado', `N√∫mero ${numeroACopiar} copiado al portapapeles`);
        if (!number) this.cerrarModal();
      }).catch(() => {
        this.mostrarNotificacion('‚ùå Error', 'No se pudo copiar el n√∫mero');
      });
    }
  }

  expandAllCards() {
    this.departments.forEach(dept => {
      const info = document.getElementById(dept.id);
      const card = info.parentElement;
      if (info && !info.classList.contains('active')) {
        info.classList.add('active');
        card.classList.add('active');
      }
    });
    this.currentOpenCard = 'all';
    this.mostrarNotificacion('üìñ Expandido', 'Todos los contactos han sido expandidos');
  }

  collapseAllCards() {
    this.departments.forEach(dept => {
      const info = document.getElementById(dept.id);
      const card = info.parentElement;
      if (info && info.classList.contains('active')) {
        info.classList.remove('active');
        card.classList.remove('active');
      }
    });
    this.currentOpenCard = null;
    this.mostrarNotificacion('üìï Contra√≠do', 'Todos los contactos han sido contra√≠dos');
  }

  saveContacts() {
    this.mostrarNotificacion('üíæ Guardando', 'Los contactos se han guardado en tu dispositivo');
    
    setTimeout(() => {
      this.mostrarNotificacion('‚úÖ Guardado', 'Contactos guardados correctamente');
    }, 1000);
  }

  configurarAnimaciones() {
    const cards = document.querySelectorAll('.department-card');
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, observerOptions);

    cards.forEach((card, index) => {
      card.style.opacity = '0';
      card.style.transform = 'translateY(30px)';
      card.style.transition = `opacity 0.6s ease ${index * 0.1}s, transform 0.6s ease ${index * 0.1}s`;
      observer.observe(card);
    });
  }

  mostrarNotificacion(titulo, mensaje) {
    const toast = document.getElementById('notificationToast');
    const titleElem = document.getElementById('toastTitle');
    const messageElem = document.getElementById('toastMessage');
    
    titleElem.textContent = titulo;
    messageElem.textContent = mensaje;
    
    toast.classList.add('show');
    
    setTimeout(() => {
      toast.classList.remove('show');
    }, 3000);
  }

  actualizarFecha() {
    document.getElementById('lastUpdate').textContent = new Date().toLocaleDateString('es-BO', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
  }
}

function openCallModal(service, number) {
  window.sistemaContactos.openCallModal(service, number);
}

function expandAllCards() {
  window.sistemaContactos.expandAllCards();
}

function collapseAllCards() {
  window.sistemaContactos.collapseAllCards();
}

function saveContacts() {
  window.sistemaContactos.saveContacts();
}

document.addEventListener('DOMContentLoaded', function() {
  window.sistemaContactos = new SistemaContactos();

  const emergencyBtn = document.querySelector('.emergency-btn');
  
  emergencyBtn.addEventListener('click', function() {
    const confirmar = confirm(
      'üö® ALERTA DE EMERGENCIA\n\n' +
      '¬øEst√°s seguro de que quieres enviar una alerta de emergencia?\n\n' +
      'Esto notificar√° inmediatamente a los servicios de emergencia.\n' +
      'Solo usa esta funci√≥n en caso de peligro real e inmediato.'
    );
    
    if (confirmar) {
      const originalBackground = this.style.background;
      const originalText = this.textContent;
      
      this.style.background = '#f59e0b';
      this.textContent = '‚è≥';
      this.disabled = true;
      this.style.animation = 'none';
      
      setTimeout(() => {
        document.getElementById('emergency-form').submit();
        
        setTimeout(() => {
          this.style.background = originalBackground;
          this.textContent = 'üö®';
          this.disabled = false;
          this.style.animation = 'pulse-emergency 2s infinite';
        }, 2000);
      }, 1000);
    }
  });

  setInterval(() => {
    const now = new Date();
    const timeString = now.toLocaleTimeString('es-BO', {
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit'
    });
    const dateString = now.toLocaleDateString('es-BO', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
    document.getElementById('lastUpdateTime').textContent = `${dateString} ${timeString}`;
  }, 30000);
});
</script>
</body>
</html>